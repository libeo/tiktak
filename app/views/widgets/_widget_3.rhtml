<center>
<div id="graph-<%=@widget.dom_id%>" style="width:400px;height:200px;margin-top:0.5em;"></div>
</div>
<script type="text/javascript" language="javascript" charset="utf-8">

var f = Flotr.draw(
	$('graph-<%=@widget.dom_id%>'), [
	{ 
	    data: [ 
              <% data = []
                 @items.each_with_index do |i,j| 
                   data << "[#{j},#{i}]"
	         end -%>
              <%= data.join(',') -%>
	      ],
	    label: "Tasks",
	    lines: {show: true, fill: true},
	    points: {show: true}
        
	}], 
        {
            xaxis: { 
              ticks: [
              <% data = []
                 @dates.each_with_index do |i,j| 
                   data << "[#{j},'#{i}']"
	         end -%>
              <%= data.join(',') -%>
	      ]
            },
            yaxis: { 
	      min: <%= (( (@range[0]-4) > 0) ? @range[0]-5 : 0) %>, 
	      max: <%= @range[1]+3 %> 
	    }
        }
);
</script>

